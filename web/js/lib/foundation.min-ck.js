/*
 * jQuery Reveal Plugin 1.1
 * www.ZURB.com
 * Copyright 2010, ZURB
 * Free to use under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
 *//*globals jQuery */(function(e){"use strict";var t=!1;e(document).on("click","a[data-reveal-id]",function(t){t.preventDefault();var n=e(this).attr("data-reveal-id");e("#"+n).reveal(e(this).data())}),e.fn.reveal=function(n){var r=e(document),i={animation:"fadeAndPop",animationSpeed:300,closeOnBackgroundClick:!0,dismissModalClass:"close-reveal-modal",open:e.noop,opened:e.noop,close:e.noop,closed:e.noop};return n=e.extend({},i,n),this.not(".reveal-modal.open").each(function(){function i(){v=!1}function s(){v=!0}function o(){var n=e(".reveal-modal.open");n.length===1&&(t=!0,n.trigger("reveal:close"))}function u(){v||(s(),o(),h.addClass("open"),n.animation==="fadeAndPop"&&(g.open.top=r.scrollTop()-d,g.open.opacity=0,h.css(g.open),m.fadeIn(n.animationSpeed/2),h.delay(n.animationSpeed/2).animate({top:"50px",opacity:1},n.animationSpeed,function(){h.trigger("reveal:opened")})),n.animation==="fade"&&(g.open.top=r.scrollTop()+p,g.open.opacity=0,h.css(g.open),m.fadeIn(n.animationSpeed/2),h.delay(n.animationSpeed/2).animate({opacity:1},n.animationSpeed,function(){h.trigger("reveal:opened")})),n.animation==="none"&&(g.open.top=r.scrollTop()+p,g.open.opacity=1,h.css(g.open),m.css({display:"block"}),h.trigger("reveal:opened")))}function a(){var e=h.find(".flex-video"),t=e.find("iframe");t.length>0&&(t.attr("src",t.data("src")),e.fadeIn(100))}function f(){v||(s(),h.removeClass("open"),n.animation==="fadeAndPop"&&(h.animate({top:r.scrollTop()-d+"px",opacity:0},n.animationSpeed/2,function(){h.css(g.close)}),t?h.trigger("reveal:closed"):m.delay(n.animationSpeed).fadeOut(n.animationSpeed,function(){h.trigger("reveal:closed")})),n.animation==="fade"&&(h.animate({opacity:0},n.animationSpeed,function(){h.css(g.close)}),t?h.trigger("reveal:closed"):m.delay(n.animationSpeed).fadeOut(n.animationSpeed,function(){h.trigger("reveal:closed")})),n.animation==="none"&&(h.css(g.close),t||m.css({display:"none"}),h.trigger("reveal:closed")),t=!1)}function l(){h.unbind(".reveal"),m.unbind(".reveal"),y.unbind(".reveal"),e("body").unbind(".reveal")}function c(){var e=h.find(".flex-video"),t=e.find("iframe");t.length>0&&(t.data("src",t.attr("src")),t.attr("src",""),e.fadeOut(100))}var h=e(this),p=parseInt(h.css("top"),10),d=h.height()+p,v=!1,m=e(".reveal-modal-bg"),g={open:{top:0,opacity:0,visibility:"visible",display:"block"},close:{top:p,opacity:1,visibility:"hidden",display:"none"}},y;m.length===0&&(m=e("<div />",{"class":"reveal-modal-bg"}).insertAfter(h),m.fadeTo("fast",.8)),h.bind("reveal:open.reveal",u),h.bind("reveal:open.reveal",a),h.bind("reveal:close.reveal",f),h.bind("reveal:closed.reveal",c),h.bind("reveal:opened.reveal reveal:closed.reveal",i),h.bind("reveal:closed.reveal",l),h.bind("reveal:open.reveal",n.open),h.bind("reveal:opened.reveal",n.opened),h.bind("reveal:close.reveal",n.close),h.bind("reveal:closed.reveal",n.closed),h.trigger("reveal:open"),y=e("."+n.dismissModalClass).bind("click.reveal",function(){h.trigger("reveal:close")}),n.closeOnBackgroundClick&&(m.css({cursor:"pointer"}),m.bind("click.reveal",function(){h.trigger("reveal:close")})),e("body").bind("keyup.reveal",function(e){})})}})(jQuery);